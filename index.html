<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“Š Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù‚ÛŒÙ…Øª ØªÙ„ÙˆÛŒØ²ÛŒÙˆÙ†</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- ÙÙˆÙ†Øª ÙØ§Ø±Ø³ÛŒ Vazir -->
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    
    <style>
        * {
            font-family: 'Vazir', Tahoma, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            padding: 20px;
            min-height: 100vh;
        }
        
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .dashboard-header h1 {
            font-size: 2.2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .card {
            border-radius: 12px;
            border: none;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            margin-bottom: 25px;
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            background-color: #fff;
            border-bottom: 3px solid #667eea;
            font-weight: bold;
            font-size: 1.2rem;
            padding: 15px 20px;
            color: #333;
        }
        
        .stat-card {
            text-align: center;
            padding: 20px;
            border-radius: 10px;
            color: white;
            margin-bottom: 15px;
            height: 100%;
        }
        
        .stat-card.blue {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .stat-card.green {
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
        }
        
        .stat-card.orange {
            background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%);
        }
        
        .stat-card.purple {
            background: linear-gradient(135deg, #9C27B0 0%, #7B1FA2 100%);
        }
        
        .stat-card .stat-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .stat-card .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .tab {
            cursor: pointer;
            padding: 12px 25px;
            border-radius: 8px;
            margin: 0 8px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .tab:hover {
            background: #f0f2ff;
        }
        
        .tab.active {
            background-color: #667eea;
            color: white;
            box-shadow: 0 4px 8px rgba(102, 126, 234, 0.3);
        }
        
        .sort-icon {
            font-weight: bold;
            margin-right: 5px;
            font-size: 1.1rem;
        }
        
        .table-container {
            overflow-x: auto;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }
        
        thead {
            background-color: #667eea;
            color: white;
        }
        
        th {
            background-color: #667eea;
            color: white;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            position: relative;
            transition: all 0.2s ease;
        }
        
        th:hover {
            background-color: #5a6fd8 !important;
            box-shadow: inset 0 -3px 0 #ffd700;
        }
        
        td {
            padding: 12px 15px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }
        
        tr:hover {
            background-color: #f8f9ff;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .pagination button {
            margin: 0 4px;
            padding: 8px 14px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            color: #333;
        }
        
        .pagination button:hover {
            border-color: #667eea;
            color: #667eea;
        }
        
        .pagination button.active {
            background-color: #667eea;
            color: white;
            border-color: #667eea;
            box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3);
        }
        
        .pagination-ellipsis {
            padding: 8px 12px;
            display: inline-block;
            color: #666;
        }
        
        .chart-container {
            background: white;
            padding: 25px;
            border-radius: 12px;
            margin-top: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        .chart-container h3 {
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #667eea;
            display: inline-block;
        }
        
        .filter-section {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        .filter-section h4 {
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .form-label {
            font-weight: bold;
            color: #555;
            margin-bottom: 8px;
        }
        
        .form-control, .form-select {
            border-radius: 8px;
            border: 2px solid #e0e0e0;
            padding: 10px 15px;
            transition: all 0.3s ease;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 0.25rem rgba(102, 126, 234, 0.25);
        }
        
        /* Ø§ØµÙ„Ø§Ø­ Ù†Ù…Ø§ÛŒØ´ ÙÙ„Ø´ Ø¯Ø±Ø§Ù¾â€ŒØ¯Ø§ÙˆÙ† */
        select.form-select {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: left 0.75rem center;
            background-size: 16px 12px;
            padding-left: 2.25rem;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            padding: 10px 25px;
            border-radius: 8px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(102, 126, 234, 0.3);
        }
        
        .btn-outline-secondary {
            border: 2px solid #6c757d;
            color: #6c757d;
            padding: 10px 25px;
            border-radius: 8px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .btn-outline-secondary:hover {
            background-color: #6c757d;
            color: white;
        }
        
        .upload-section {
            background: linear-gradient(135deg, #f5f7ff 0%, #f0f2ff 100%);
            padding: 20px;
            border-radius: 12px;
            border: 2px dashed #667eea;
            text-align: center;
            margin-bottom: 25px;
        }
        
        .last-update {
            background: #e8f4ff;
            padding: 12px 20px;
            border-radius: 8px;
            border-right: 4px solid #667eea;
            margin-top: 15px;
            color: #333;
            font-weight: bold;
        }
        
        .product-link {
            color: #667eea;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            padding: 5px 10px;
            border-radius: 5px;
            border: 1px solid transparent;
        }
        
        .product-link:hover {
            color: #764ba2;
            text-decoration: underline;
            background: #f0f2ff;
            border-color: #667eea;
        }
        
        .alert-message {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .dashboard-header {
                padding: 20px;
            }
            
            .dashboard-header h1 {
                font-size: 1.8rem;
            }
            
            .tab {
                padding: 10px 15px;
                margin: 5px;
                font-size: 0.9rem;
            }
            
            th, td {
                padding: 10px;
                font-size: 0.9rem;
            }
            
            .stat-card .stat-value {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <!-- Ù‡Ø¯Ø± Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ -->
        <div class="dashboard-header">
            <h1>ğŸ“Š Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù‚ÛŒÙ…Øª ØªÙ„ÙˆÛŒØ²ÛŒÙˆÙ†</h1>
            <p class="mb-0">ØªØ­Ù„ÛŒÙ„ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ÛŒ ØªÙ„ÙˆÛŒØ²ÛŒÙˆÙ† Ø§Ø² ÙØ±ÙˆØ´Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù - Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ: <span id="last-update">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</span></p>
        </div>
        
        <!-- Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø± -->
        <div class="row">
            <div class="col-lg-3 col-md-6">
                <div class="stat-card blue">
                    <div class="stat-label">Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù‚ÛŒÙ…Øª</div>
                    <div class="stat-value" id="avg-price">Û° ØªÙˆÙ…Ø§Ù†</div>
                    <i class="fas fa-chart-line"></i>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-card green">
                    <div class="stat-label">ØªØ¹Ø¯Ø§Ø¯ Ù…Ø­ØµÙˆÙ„Ø§Øª</div>
                    <div class="stat-value" id="total-items">Û°</div>
                    <i class="fas fa-tv"></i>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-card orange" id="sellers-stat-card">
                    <div class="stat-label">ØªØ¹Ø¯Ø§Ø¯ ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù†</div>
                    <div class="stat-value" id="total-sellers">Û°</div>
                    <i class="fas fa-store"></i>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-card purple">
                    <div class="stat-label">ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø±Ù†Ø¯Ù‡Ø§</div>
                    <div class="stat-value" id="total-brands">Û°</div>
                    <i class="fas fa-tags"></i>
                </div>
            </div>
        </div>
        
        <!-- ØªØ¨â€ŒÙ‡Ø§ÛŒ Ù…Ù†Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡ -->
        <div class="card">
            <div class="card-header">
                <i class="fas fa-database"></i> Ù…Ù†Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡
            </div>
            <div class="card-body">
                <div class="d-flex justify-content-center">
                    <div class="tab active" data-tab="digikala">
                        <img src="https://www.digikala.com/statics/img/png/footerlogo2.webp" alt="Digikala" style="height: 1.2em; width: auto; vertical-align: middle; margin-left: 5px;"> Ø¯ÛŒØ¬ÛŒâ€ŒÚ©Ø§Ù„Ø§
                    </div>
                    <div class="tab" data-tab="torob">
                        <i class="fas fa-search"></i> ØªØ±Ø¨
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Ø¨Ø®Ø´ Ø¬Ø³ØªØ¬Ùˆ (Ø¬Ø¯Ø§ Ø§Ø² ÙÛŒÙ„ØªØ±Ù‡Ø§) -->
        <div class="filter-section">
            <h4><i class="fas fa-search"></i> Ø¬Ø³ØªØ¬Ùˆ</h4>
            <div class="row">
                <div class="col-12">
                    <input type="text" class="form-control" id="search-input" placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„ ÛŒØ§ Ø¨Ø±Ù†Ø¯ ...">
                </div>
            </div>
        </div>
        
        <!-- Ø¨Ø®Ø´ ÙÛŒÙ„ØªØ±Ù‡Ø§ -->
        <div class="filter-section">
            <h4><i class="fas fa-filter"></i> ÙÛŒÙ„ØªØ±Ù‡Ø§</h4>
            <div class="row">
                <div class="col-md-3 mb-3">
                    <label class="form-label">Ø­Ø¯Ø§Ù‚Ù„ Ù‚ÛŒÙ…Øª</label>
                    <input type="range" class="form-range" id="price-filter" min="0" max="50000000" step="100000" value="0">
                    <div class="mt-2">
                        <span id="filter-value">Û° ØªÙˆÙ…Ø§Ù†</span>
                    </div>
                </div>
                <div class="col-md-3 mb-3">
                    <label class="form-label">Ø³Ø§ÛŒØ² ØªÙ„ÙˆÛŒØ²ÛŒÙˆÙ†</label>
                    <select class="form-select" id="size-filter">
                        <option value="">Ù‡Ù…Ù‡ Ø³Ø§ÛŒØ²Ù‡Ø§</option>
                    </select>
                </div>
                <div class="col-md-3 mb-3">
                    <label class="form-label">Ø¨Ø±Ù†Ø¯</label>
                    <select class="form-select" id="brand-filter">
                        <option value="">Ù‡Ù…Ù‡ Ø¨Ø±Ù†Ø¯Ù‡Ø§</option>
                    </select>
                </div>
                <div class="col-md-3 mb-3">
                    <label class="form-label">ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ</label>
                    <select class="form-select" id="tech-filter">
                        <option value="">Ù‡Ù…Ù‡ ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒâ€ŒÙ‡Ø§</option>
                        <option value="LED">LED</option>
                        <option value="OLED">OLED</option>
                        <option value="QLED">QLED</option>
                    </select>
                </div>
                <div class="col-md-12 mt-3">
                    <button id="clear-filters" class="btn btn-outline-secondary">
                        <i class="fas fa-filter"></i> Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ÙÛŒÙ„ØªØ±Ù‡Ø§
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Ø¬Ø¯ÙˆÙ„ Ù…Ø­ØµÙˆÙ„Ø§Øª -->
        <div class="card">
            <div class="card-header">
                <i class="fas fa-list"></i> Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª
                <span class="badge bg-primary ms-2" id="product-count">0</span>
            </div>
            <div class="card-body">
                <div class="table-container">
                    <table id="product-table" class="table table-hover">
                        <thead>
                            <tr id="table-header-digikala">
                                <th data-col="name">Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„</th>
                                <th data-col="brand">Ø¨Ø±Ù†Ø¯</th>
                                <th data-col="price_num">Ù‚ÛŒÙ…Øª ÙØ±ÙˆØ´</th>
                                <th data-col="original_price_num">Ù‚ÛŒÙ…Øª Ø§ØµÙ„ÛŒ</th>
                                <th data-col="discount">ØªØ®ÙÛŒÙ</th>
                                <th data-col="rating">Ø§Ù…ØªÛŒØ§Ø²</th>
                                <th data-col="stock">Ù…ÙˆØ¬ÙˆØ¯ÛŒ</th>
                                <th data-col="sellers">ØªØ¹Ø¯Ø§Ø¯ ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù†</th>
                                <th>Ù„ÛŒÙ†Ú©</th>
                            </tr>
                            <tr id="table-header-torob" style="display: none;">
                                <th data-col="name">Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„</th>
                                <th data-col="brand">Ø¨Ø±Ù†Ø¯</th>
                                <th data-col="price_num">Ù‚ÛŒÙ…Øª</th>
                                <th data-col="sellers">ØªØ¹Ø¯Ø§Ø¯ ÙØ±ÙˆØ´Ù†Ø¯Ú¯Ø§Ù†</th>
                                <th>Ù„ÛŒÙ†Ú©</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td colspan="9" style="text-align: center; padding: 40px;">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</span>
                                    </div>
                                    <p class="mt-3">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§...</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒ -->
                <div id="pagination" class="pagination"></div>
            </div>
        </div>
        
        <!-- Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ÛŒ -->
        <div class="chart-container">
            <h3><i class="fas fa-chart-pie"></i> Ù†Ù…ÙˆØ¯Ø§Ø±Ù‡Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ÛŒ</h3>
            <div class="row mt-4">
                <div class="col-md-4 mb-4">
                    <div class="card shadow-sm">
                        <div class="card-header bg-transparent fw-bold">ğŸ“Š Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù‚ÛŒÙ…Øª Ø¨Ø±Ù†Ø¯ (Û±Ûµ Ø¨Ø±Ù†Ø¯ Ø¨Ø±ØªØ±)</div>
                        <div class="card-body" style="height: 300px;">
                            <canvas id="chart-brand-avg"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card shadow-sm">
                        <div class="card-header bg-transparent fw-bold">ğŸ“ˆ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ù‚ÛŒÙ…Øª Ø¨Ø± Ø§Ø³Ø§Ø³ Ø³Ø§ÛŒØ²</div>
                        <div class="card-body" style="height: 300px;">
                            <canvas id="chart-size-avg"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card shadow-sm">
                        <div class="card-header bg-transparent fw-bold">ğŸ“Š ØªØ¹Ø¯Ø§Ø¯ Ù…Ø­ØµÙˆÙ„Ø§Øª Ù‡Ø± Ø¨Ø±Ù†Ø¯</div>
                        <div class="card-body" style="height: 300px;">
                            <canvas id="chart-brand-count"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ÙÙˆØªØ± -->
        <footer class="text-center mt-5 mb-3 text-muted">
            <p>Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù‚ÛŒÙ…Øª ØªÙ„ÙˆÛŒØ²ÛŒÙˆÙ† | Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø¨Ø§ â¤ï¸ ØªÙˆØ³Ø· Ù…Ø­Ù…Ø¯ ØµØ§Ø¯Ù‚ÛŒ Ú©Ø§Ø¬ÛŒ | Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ: Ø¨Ù‡Ù…Ù† Û±Û´Û°Û´</p>
        </footer>
    </div>
    
    <!-- ÙØ§ÛŒÙ„ JavaScript Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ -->
    <script src="dashboard.js"></script>
</body>
</html>
